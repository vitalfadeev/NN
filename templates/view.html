{% extends 'base.html' %}
{% load static %}
{% block title %} view {% endblock %}
{% block content %}


<h4>Name: {{ batch.Project_Name }}</h4>
<div class="row">
    <div class="col-md-2">Received DateTime:</div>
    <div> {{ batch.Batch_Received_DateTime|date:'Y-m-d H:i' }}</div>
</div>
<div class="row">
    <div class="col-md-2">Description:</div>
    <div> {{ batch.Project_Description }}</div>
</div>
<div class="row">
    <div class="col-md-2">Status:</div>
    <div></div>
</div>
<div class="row">
    <div class="col-md-2">Version:</div>
    <div></div>
</div>

<!-- View first 5 lines and last 5 lines of csv -->
<table class="table table-hover table-sm ">
    <thead>
    <tr>
    {% for name in csv_title %}
        <th>{{ name }}</th>
    {% endfor %}
    </tr>
    </thead>
    <tbody>
    {% for row in csv_first %}
    <tr class="cursor-pointer">
        {% for dada in row %}
            <td>{{ dada }}</td>
        {% endfor %}
    </tr>
    {% endfor %}

    {% if csv_last %}
    <tr class="cursor-pointer">
        {% for dada in csv_title %}
            <td>...</td>
        {% endfor %}
    </tr>

    {% for row in csv_last %}
    <tr class="cursor-pointer">
        {% for dada in row %}
            <td>{{ dada }}</td>
        {% endfor %}
    </tr>
    {% endfor %}

    {% endif %}
    </tbody>
</table>
<br>

<!-- Display table with information of analyse -->
<div class="d-none">
    <p>file format, csv format</p>
    <p>first line : title</p>
    <p>Column Type</p>
    <p>#columns, #lines</p>
    <p>#lines to predict (lines with partial data)</p>
</div>

<!-- Analyser errors -->
{% if analyser_errors != "\"\"" %}
<div class="row ">
    <div class="col-md-6">
        <div class="alert alert-danger">
            {{ analyser_errors }}
        </div>
    </div>
</div>
{% endif %}

{% if analyser_warnings != "\"\"" %}
<div class="row">
    <div class="col-md-6">
        <div class="alert alert-warning">
            {{ analyser_warnings }}
        </div>
    </div>
</div>
{% endif %}

<!-- -->
<div class="row mt-4">
    <div class="col-md-6">
        <table class="table table-sm">
            <thead>
            <tr>
                {% for col_name in analyser_cols_input %}
                <th>{{ col_name }}</th>
                {% endfor %}
            </tr>
            </thead>
            <tbody>
            <!-- Type -->
            <tr>
                {% for col_type in analyser_cols_type %}
                <td>{{ col_type }}</td>
                {% endfor %}
            </tr>
            <!-- Data -->
            <tr>
                {% for col_name in analyser_cols_input %}
                <td>...</td>
                {% endfor %}
            </tr>
            </tbody>
        </table>
    </div>

    <div class="col-md-6">
        <table class="table table-sm">
            <thead>
            <tr>
                {% for col_name in analyser_cols_output %}
                <th>{{ col_name }}</th>
                {% endfor %}
            </tr>
            </thead>
            <tbody>
            <tr>
                {% for col_name in analyser_cols_output %}
                <td>...</td>
                {% endfor %}
            </tr>
            </tbody>
        </table>
    </div>
</div>

{% endblock %}
